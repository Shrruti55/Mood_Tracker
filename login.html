<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Account / Login - Mood Tracker</title>
<style>
    body {
        font-family: 'Segoe UI', sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        background: linear-gradient(135deg, #ffe4ec, #fbc2eb, #a6c0fe, #b3e5fc, #81d4fa);
        background-size: 400% 400%;
        animation: gradientMove 15s ease infinite;
        overflow: hidden;
        flex-direction: column;
        position: relative;
    }

    @keyframes gradientMove {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    h1 {
        color: white;
        margin-bottom: 20px;
        font-size: 38px;
        letter-spacing: 1px;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        z-index: 2;
    }

    .container {
        background: white;
        border-radius: 15px;
        width: 350px;
        padding: 25px;
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        text-align: center;
        z-index: 2;
        position: relative;
    }

    h2 {
        color: #333;
        margin-bottom: 15px;
    }

    input {
        width: 90%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 8px;
        border: 1px solid #ccc;
    }

    button {
        width: 95%;
        padding: 10px;
        margin-top: 10px;
        background: #e91e63;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: background 0.3s;
    }

    button:hover {
        background: #c2185b;
    }

    .toggle-link {
        color: #e91e63;
        cursor: pointer;
        display: inline-block;
        margin-top: 10px;
        font-size: 14px;
    }

    .form {
        display: none;
        animation: fade 0.3s ease;
    }

    .form.active {
        display: block;
    }

    @keyframes fade {
        from {opacity: 0;}
        to {opacity: 1;}
    }

    .emoji {
        position: absolute;
        opacity: 0.85;
        animation: float 8s ease-in-out infinite;
    }

    @keyframes float {
        0% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
        100% { transform: translateY(0px) rotate(0deg); }
    }
</style>
</head>
<body>
  <h1>ğŸŒŸ MOOD TRACKER ğŸŒŸ</h1>


<div class="emoji" style="top: 5%; left: 8%; font-size: 45px;">ğŸ˜Š</div>
<div class="emoji" style="top: 12%; left: 80%; font-size: 55px;">ğŸ˜¢</div>
<div class="emoji" style="top: 35%; left: 12%; font-size: 55px;">ğŸ˜</div>
<div class="emoji" style="top: 90%; left: 5%; font-size: 50px;">ğŸ˜¡</div>
<div class="emoji" style="top: 80%; left: 75%; font-size: 40px;">ğŸ˜´</div>
<div class="emoji" style="top: 40%; left: 90%; font-size: 60px;">ğŸ¤©</div>
<div class="emoji" style="top: 2%; left: 50%; font-size: 48px;">ğŸ¥³</div>
<div class="emoji" style="top: 60%; left: 30%; font-size: 42px;">ğŸ˜‚</div>


<div class="emoji" style="top: 10%; left: 20%; font-size: 60px;">â¤ï¸</div>
<div class="emoji" style="top: 15%; left: 65%; font-size: 50px;">ğŸ’–</div>
<div class="emoji" style="top: 55%; left: 15%; font-size: 55px;">ğŸ˜˜</div>
<div class="emoji" style="top: 65%; left: 85%; font-size: 45px;">ğŸ˜ƒ</div>
<div class="emoji" style="top: 80%; left: 40%; font-size: 58px;">ğŸ˜‰</div>
<div class="emoji" style="top: 15%; left: 35%; font-size: 52px;">ğŸ’Œ</div>

  <div class="main">
    <div class="login-container">
      <h2>Admin Login</h2>
      <form id="loginForm">
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
      <a class="forgot-link" id="forgotPasswordLink">Forgot Password?</a>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDAwkVYhL_s1czh6DSw4bRemWJlpA84AEQ",
      authDomain: "iconservice-e06c9.firebaseapp.com",
      projectId: "iconservice-e06c9",
      storageBucket: "iconservice-e06c9.appspot.com",
      messagingSenderId: "581753040293",
      appId: "1:581753040293:web:7123c6fd70c4162ae90c4c",
      measurementId: "G-MNG3WJ7N7X"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    document.getElementById("loginForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();
      try {
        await signInWithEmailAndPassword(auth, email, password);
        alert("Login successful!");
        sessionStorage.setItem('isLoggedIn', 'true');
        window.location.href = "http://127.0.0.1:5000/";
      } catch (error) {
        alert("Login failed: " + error.message);
      }
    });

    document.getElementById("forgotPasswordLink").addEventListener("click", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      if (!email) {
        alert("Please enter your email first.");
        return;
      }
      try {
        await sendPasswordResetEmail(auth, email);
        alert("Password reset email sent! Check your inbox.");
      } catch (error) {
        alert("Error: " + error.message);
      }
    });
  </script>
</body>
</html>

